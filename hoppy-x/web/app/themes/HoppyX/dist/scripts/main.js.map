{"version":3,"sources":["../assets/scripts/main.js"],"names":["$","Sage","common","init","on","this","is","addClass","removeClass","prop","change","e","stopPropagation","allReveals","parent","hasClass","find","toggle","toggleClass","hide","preventDefault","toggleOverlay","overlay","triggerBttn","closeBttn","transEndEventNames","WebkitTransition","MozTransition","OTransition","msTransition","transition","Modernizr","prefixed","transitions","csstransitions","finalize","home","gallery_page","featherlightGallery","filter","targetAttr","previousIcon","nextIcon","galleryFadeIn","galleryFadeOut","openSpeed","afterOpen","event","fl_instance","$instance","trigger","afterContent","detach","remove","fl_content","title","$currentTarget","attr","keywords_escaped","keywords","caption","t","c","k","b","append","onResize","css","height","width","max-width","margin","overflow","afterClose","unbind","UTIL","fire","func","funcname","args","namespace","undefined","loadEvents","each","document","body","className","replace","split","i","classnm","ready","jQuery"],"mappings":"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","file":"main.js","sourcesContent":["/* ========================================================================\n * DOM-based Routing\n * Based on http://goo.gl/EUTi53 by Paul Irish\n *\n * Only fires on body classes that match. If a body class contains a dash,\n * replace the dash with an underscore when adding it to the object below.\n *\n * .noConflict()\n * The routing is enclosed within an anonymous function so that you can\n * always reference jQuery with $, even when in .noConflict() mode.\n * ======================================================================== */\n\n(function($) {\n\n  // Use this variable to set up the common and page specific functions. If you\n  // rename this variable, you will also need to rename the namespace below.\n  var Sage = {\n    // All pages\n    'common': {\n      init: function() {\n        // JavaScript to be fired on all pages\n        $(function() {\n          $(\"#modal-footer\").on(\"change\", function() {\n            if ($(this).is(\":checked\")) {\n              $(\"body\").addClass(\"modal-open\");\n            } else {\n              $(\"body\").removeClass(\"modal-open\");\n            }\n          });\n\n          $(\".modal-fade-screen, .modal-close\").on(\"click\", function() {\n            $(\".modal-state:checked\").prop(\"checked\", false).change();\n          });\n\n          $(\".modal-inner\").on(\"click\", function(e) {\n            e.stopPropagation();\n            // e.preventDefault();\n          });\n        });\n\n        // Reveals\n\n        $('body').on('click','.reveal-button', function(e) {\n          var allReveals = $('.reveal');\n          if ($(this).parent().hasClass('is-expanded')) {\n            $(this).parent().find('.reveal').toggle();  // apply the toggle to the reveal\n            $(this).parent().toggleClass('is-expanded');\n          } else {\n            allReveals.hide();\n            allReveals.parent().removeClass('is-expanded');\n            $(this).parent().find('.reveal').toggle();  // apply the toggle to the reveal\n            $(this).parent().toggleClass('is-expanded');\n          }\n          e.preventDefault();\n        });\n\n\n\n        (function() {\n          var triggerBttn = $('#js-mobile-menu'),\n            overlay = $( 'header.banner' ),\n            closeBttn = $( 'a.overlay-close' ),\n            transEndEventNames = {\n              'WebkitTransition': 'webkitTransitionEnd',\n              'MozTransition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'msTransition': 'MSTransitionEnd',\n              'transition': 'transitionend'\n            },\n            transEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],\n            support = { transitions : Modernizr.csstransitions };\n\n          function toggleOverlay() {\n            if( $(overlay).hasClass( 'open' ) ) {\n              $(overlay).removeClass( 'open' );\n              $(overlay).addClass( 'close' );\n            }\n            else {\n              $(overlay).removeClass( 'close' );\n              $(overlay).addClass( 'open' );\n            }\n          }\n\n          triggerBttn.on( 'click', toggleOverlay );\n          closeBttn.on( 'click', toggleOverlay );\n        })();\n      },\n      finalize: function() {\n        // JavaScript to be fired on all pages, after page specific JS is fired\n      }\n    },\n    // Home page\n    'home': {\n      init: function() {\n        // JavaScript to be fired on the home page\n      },\n      finalize: function() {\n        // JavaScript to be fired on the home page, after the init JS\n      }\n    },\n    // Gallery pages\n    'gallery_page': {\n      init: function() {\n\n        // JavaScript to be fired on the Gallery pages\n        $('section.gallery').featherlightGallery({\n          filter: \"a.lightbox-item\",\n          targetAttr: \"data-image\",\n          previousIcon: '«',\n          nextIcon: '»',\n          galleryFadeIn: 0,\n          galleryFadeOut: 20,\n          openSpeed: 0,\n          afterOpen: function(event) {\n            fl_instance = this.$instance;\n            $('body').on('click','.featherlight-content .featherlight-next',function(e){\n              e.stopPropagation();\n              fl_instance.trigger(\"next\");\n            });\n            $('body').on('click','.featherlight-content .featherlight-previous',function(){\n              fl_instance.trigger(\"previous\");\n            });\n          },\n          afterContent: function(event) {\n            fl_instance = this.$instance;\n            //remove old stuff\n            $(\".featherlight-previous\").detach();\n            $(\".featherlight-next\").detach();\n            fl_instance.find('header').remove();\n            fl_instance.find('.keywords').remove();\n            fl_instance.find('.caption').remove();\n\n            //new stuff\n            fl_content = fl_instance.find('.featherlight-content');\n\n            var title = this.$currentTarget.attr('data-title');\n            var keywords_escaped = this.$currentTarget.attr('data-keywords');\n            var keywords = keywords_escaped;\n            var caption = this.$currentTarget.attr('data-caption');\n\n            var t = \"<div class='image-nav__item'><h1 class='title'>\" + title + \"</h1></div>\";\n            var c = \"<div class='image-nav__item'><a class='image-nav__caption reveal-button' href=''>Caption</a><span class='caption reveal'>\" + caption + \"</span></div>\";\n            var k = \"<div class='image-nav__item'><a class='image-nav__keywords reveal-button' href=''>Keywords</a><aside class='keywords reveal'>\" + keywords + \"</aside></div>\";\n            var b = \"<span title='previous' class='featherlight-previous image-nav__item image-nav__previous'><svg style='width:24px;height:24px' viewBox='0 0 24 24'><path fill='#000000' d='M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z'></path></svg></span><span title='next' class='featherlight-next image-nav__item image-nav__next'><svg style='width:24px;height:24px' viewBox='0 0 24 24'><path fill='#000000' d='M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z'></path></svg></span>\";\n\n            $(fl_content).append( \"<header class='image-nav'>\" + t + \"<div class='image-nav__buttons'>\" + c + k + b + \"</div>\" + \"</header>\" );\n          },\n          onResize: function() {\n            fl_content = this.$instance.find('.featherlight-content');\n            fl_content.find('img').css({\n              'height': '',\n              'width': '',\n              'max-width': '100%',\n              'margin': 'auto',\n              'overflow': 'auto'});\n          },\n          afterClose: function() {\n            $( \".featherlight-next, .featherlight-previous\" ).unbind( \"click\" );\n          },\n        });\n      }\n    }\n  };\n\n  // The routing fires all common scripts, followed by the page specific scripts.\n  // Add additional events for more control over timing e.g. a finalize event\n  var UTIL = {\n    fire: function(func, funcname, args) {\n      var fire;\n      var namespace = Sage;\n      funcname = (funcname === undefined) ? 'init' : funcname;\n      fire = func !== '';\n      fire = fire && namespace[func];\n      fire = fire && typeof namespace[func][funcname] === 'function';\n\n      if (fire) {\n        namespace[func][funcname](args);\n      }\n    },\n    loadEvents: function() {\n      // Fire common init JS\n      UTIL.fire('common');\n\n      // Fire page-specific init JS, and then finalize JS\n      $.each(document.body.className.replace(/-/g, '_').split(/\\s+/), function(i, classnm) {\n        UTIL.fire(classnm);\n        UTIL.fire(classnm, 'finalize');\n      });\n\n      // Fire common finalize JS\n      UTIL.fire('common', 'finalize');\n    }\n  };\n\n  // Load Events\n  $(document).ready(UTIL.loadEvents);\n\n})(jQuery); // Fully reference jQuery after this point.\n"],"sourceRoot":"assets/scripts/"}
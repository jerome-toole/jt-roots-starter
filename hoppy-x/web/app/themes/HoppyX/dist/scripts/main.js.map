{"version":3,"sources":["../assets/scripts/main.js"],"names":["$","Sage","common","init","on","this","is","addClass","removeClass","prop","change","e","stopPropagation","toggleOverlay","overlay","hasClass","triggerBttn","closeBttn","transEndEventNames","WebkitTransition","MozTransition","OTransition","msTransition","transition","Modernizr","prefixed","transitions","csstransitions","finalize","home","parent_pageid_13","featherlightGallery","filter","targetAttr","previousIcon","nextIcon","galleryFadeIn","galleryFadeOut","openSpeed","afterOpen","event","fl_instance","$instance","trigger","console","log","afterContent","detach","find","remove","fl_content","title","$currentTarget","attr","keywords_escaped","keywords","caption","t","c","k","b","append","onResize","css","height","width","max-width","margin","overflow","afterClose","unbind","UTIL","fire","func","funcname","args","namespace","undefined","loadEvents","each","document","body","className","replace","split","i","classnm","ready","jQuery"],"mappings":"CAYA,SAAAA,GAIA,GAAAC,IAEAC,QACAC,KAAA,WAEAH,EAAA,WACAA,EAAA,iBAAAI,GAAA,SAAA,WACAJ,EAAAK,MAAAC,GAAA,YACAN,EAAA,QAAAO,SAAA,cAEAP,EAAA,QAAAQ,YAAA,gBAIAR,EAAA,oCAAAI,GAAA,QAAA,WACAJ,EAAA,wBAAAS,KAAA,WAAA,GAAAC,WAGAV,EAAA,gBAAAI,GAAA,QAAA,SAAAO,GACAA,EAAAC,sBAOA,WAcA,QAAAC,KACAb,EAAAc,GAAAC,SAAA,SACAf,EAAAc,GAAAN,YAAA,QACAR,EAAAc,GAAAP,SAAA,WAGAP,EAAAc,GAAAN,YAAA,SACAR,EAAAc,GAAAP,SAAA,SApBA,GAAAS,GAAAhB,EAAA,mBACAc,EAAAd,EAAA,iBACAiB,EAAAjB,EAAA,mBACAkB,GACAC,iBAAA,sBACAC,cAAA,gBACAC,YAAA,iBACAC,aAAA,kBACAC,WAAA,gBAEAL,GAAAM,UAAAC,SAAA,gBACAC,YAAAF,UAAAG,eAaAX,GAAAZ,GAAA,QAAAS,GACAI,EAAAb,GAAA,QAAAS,OAGAe,SAAA,cAKAC,MACA1B,KAAA,aAGAyB,SAAA,cAKAE,kBACA3B,KAAA,WAGAH,EAAA,mBAAA+B,qBACAC,OAAA,IACAC,WAAA,aACAC,aAAA,IACAC,SAAA,IACAC,cAAA,EACAC,eAAA,GACAC,UAAA,EACAC,UAAA,SAAAC,GACAC,YAAApC,KAAAqC,UACA1C,EAAA,QAAAI,GAAA,QAAA,2CAAA,SAAAO,GACAA,EAAAC,kBACA6B,YAAAE,QAAA,QACAC,QAAAC,IAAA,OAEA7C,EAAA,QAAAI,GAAA,QAAA,+CAAA,WACAqC,YAAAE,QAAA,YACAC,QAAAC,IAAA,QAGAC,aAAA,SAAAN,GACAC,YAAApC,KAAAqC,UAEA1C,EAAA,0BAAA+C,SACA/C,EAAA,sBAAA+C,SACAN,YAAAO,KAAA,UAAAC,SACAR,YAAAO,KAAA,aAAAC,SACAR,YAAAO,KAAA,YAAAC,SAGAC,WAAAT,YAAAO,KAAA,wBAEA,IAAAG,GAAA9C,KAAA+C,eAAAC,KAAA,cACAC,EAAAjD,KAAA+C,eAAAC,KAAA,iBACAE,EAAAD,EACAE,EAAAnD,KAAA+C,eAAAC,KAAA,gBAEAI,EAAA,qBAAAN,EAAA,QACAO,EAAA,uFAAAF,EAAA,OACAG,EAAA,8FAAAJ,EAAA,WACAK,EAAA,4eAEA5D,GAAAkD,YAAAW,OAAA,6BAAAJ,EAAA,mCAAAC,EAAAC,EAAAC,EAAA,oBAEAE,SAAA,WACAZ,WAAA7C,KAAAqC,UAAAM,KAAA,yBACAE,WAAAF,KAAA,OAAAe,KACAC,OAAA,GACAC,MAAA,GACAC,YAAA,OACAC,OAAA,OACAC,SAAA,UAEAC,WAAA,WACArE,EAAA,8CAAAsE,OAAA,eASAC,GACAC,KAAA,SAAAC,EAAAC,EAAAC,GACA,GAAAH,GACAI,EAAA3E,CACAyE,GAAAG,SAAAH,EAAA,OAAAA,EACAF,EAAA,KAAAC,EACAD,EAAAA,GAAAI,EAAAH,GACAD,EAAAA,GAAA,kBAAAI,GAAAH,GAAAC,GAEAF,GACAI,EAAAH,GAAAC,GAAAC,IAGAG,WAAA,WAEAP,EAAAC,KAAA,UAGAxE,EAAA+E,KAAAC,SAAAC,KAAAC,UAAAC,QAAA,KAAA,KAAAC,MAAA,OAAA,SAAAC,EAAAC,GACAf,EAAAC,KAAAc,GACAf,EAAAC,KAAAc,EAAA,cAIAf,EAAAC,KAAA,SAAA,aAKAxE,GAAAgF,UAAAO,MAAAhB,EAAAO,aAEAU","file":"main.js","sourcesContent":["/* ========================================================================\n * DOM-based Routing\n * Based on http://goo.gl/EUTi53 by Paul Irish\n *\n * Only fires on body classes that match. If a body class contains a dash,\n * replace the dash with an underscore when adding it to the object below.\n *\n * .noConflict()\n * The routing is enclosed within an anonymous function so that you can\n * always reference jQuery with $, even when in .noConflict() mode.\n * ======================================================================== */\n\n(function($) {\n\n  // Use this variable to set up the common and page specific functions. If you\n  // rename this variable, you will also need to rename the namespace below.\n  var Sage = {\n    // All pages\n    'common': {\n      init: function() {\n        // JavaScript to be fired on all pages\n        $(function() {\n          $(\"#modal-footer\").on(\"change\", function() {\n            if ($(this).is(\":checked\")) {\n              $(\"body\").addClass(\"modal-open\");\n            } else {\n              $(\"body\").removeClass(\"modal-open\");\n            }\n          });\n\n          $(\".modal-fade-screen, .modal-close\").on(\"click\", function() {\n            $(\".modal-state:checked\").prop(\"checked\", false).change();\n          });\n\n          $(\".modal-inner\").on(\"click\", function(e) {\n            e.stopPropagation();\n            // e.preventDefault();\n          });\n        });\n\n\n\n        (function() {\n          var triggerBttn = $('#js-mobile-menu'),\n            overlay = $( 'header.banner' ),\n            closeBttn = $( 'a.overlay-close' ),\n            transEndEventNames = {\n              'WebkitTransition': 'webkitTransitionEnd',\n              'MozTransition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'msTransition': 'MSTransitionEnd',\n              'transition': 'transitionend'\n            },\n            transEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],\n            support = { transitions : Modernizr.csstransitions };\n\n          function toggleOverlay() {\n            if( $(overlay).hasClass( 'open' ) ) {\n              $(overlay).removeClass( 'open' );\n              $(overlay).addClass( 'close' );\n            }\n            else {\n              $(overlay).removeClass( 'close' );\n              $(overlay).addClass( 'open' );\n            }\n          }\n\n          triggerBttn.on( 'click', toggleOverlay );\n          closeBttn.on( 'click', toggleOverlay );\n        })();\n      },\n      finalize: function() {\n        // JavaScript to be fired on all pages, after page specific JS is fired\n      }\n    },\n    // Home page\n    'home': {\n      init: function() {\n        // JavaScript to be fired on the home page\n      },\n      finalize: function() {\n        // JavaScript to be fired on the home page, after the init JS\n      }\n    },\n    // Gallery pages\n    'parent_pageid_13': {\n      init: function() {\n\n        // JavaScript to be fired on the Gallery pages\n        $('section.gallery').featherlightGallery({\n          filter: \"a\",\n          targetAttr: \"data-image\",\n          previousIcon: '«',\n          nextIcon: '»',\n          galleryFadeIn: 0,\n          galleryFadeOut: 20,\n          openSpeed: 0,\n          afterOpen: function(event) {\n            fl_instance = this.$instance;\n            $('body').on('click','.featherlight-content .featherlight-next',function(e){\n              e.stopPropagation();\n              fl_instance.trigger(\"next\");\n              console.log('n');\n            });\n            $('body').on('click','.featherlight-content .featherlight-previous',function(){\n              fl_instance.trigger(\"previous\");\n              console.log('p');\n            });\n          },\n          afterContent: function(event) {\n            fl_instance = this.$instance;\n            //remove old stuff\n            $(\".featherlight-previous\").detach();\n            $(\".featherlight-next\").detach();\n            fl_instance.find('header').remove();\n            fl_instance.find('.keywords').remove();\n            fl_instance.find('.caption').remove();\n\n            //new stuff\n            fl_content = fl_instance.find('.featherlight-content');\n\n            var title = this.$currentTarget.attr('data-title');\n            var keywords_escaped = this.$currentTarget.attr('data-keywords');\n            var keywords = keywords_escaped;\n            var caption = this.$currentTarget.attr('data-caption');\n\n            var t = \"<h1 class='title'>\" + title + \"</h1>\";\n            var c = \"<a class='image-nav__item image-nav__caption' href=''>Caption</a><p class='caption'>\" + caption + \"</p>\";\n            var k = \"<a class='image-nav__item image-nav__keywords' href=''>Keywords</a><aside class='keywords'>\" + keywords + \"</aside>\";\n            var b = \"<span title='previous' class='featherlight-previous image-nav__item image-nav__previous'><svg style='width:24px;height:24px' viewBox='0 0 24 24'><path fill='#000000' d='M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z'></path></svg></span><span title='next' class='featherlight-next image-nav__item image-nav__next'><svg style='width:24px;height:24px' viewBox='0 0 24 24'><path fill='#000000' d='M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z'></path></svg></span>\";\n\n            $(fl_content).append( \"<header class='image-nav'>\" + t + \"<div class='image-nav__buttons'>\" + c + k + b + \"</div>\" + \"</header>\" );\n          },\n          onResize: function() {\n            fl_content = this.$instance.find('.featherlight-content');\n            fl_content.find('img').css({\n              'height': '',\n              'width': '',\n              'max-width': '100%',\n              'margin': 'auto',\n              'overflow': 'auto'});\n          },\n          afterClose: function() {\n            $( \".featherlight-next, .featherlight-previous\" ).unbind( \"click\" );\n          },\n        });\n      }\n    }\n  };\n\n  // The routing fires all common scripts, followed by the page specific scripts.\n  // Add additional events for more control over timing e.g. a finalize event\n  var UTIL = {\n    fire: function(func, funcname, args) {\n      var fire;\n      var namespace = Sage;\n      funcname = (funcname === undefined) ? 'init' : funcname;\n      fire = func !== '';\n      fire = fire && namespace[func];\n      fire = fire && typeof namespace[func][funcname] === 'function';\n\n      if (fire) {\n        namespace[func][funcname](args);\n      }\n    },\n    loadEvents: function() {\n      // Fire common init JS\n      UTIL.fire('common');\n\n      // Fire page-specific init JS, and then finalize JS\n      $.each(document.body.className.replace(/-/g, '_').split(/\\s+/), function(i, classnm) {\n        UTIL.fire(classnm);\n        UTIL.fire(classnm, 'finalize');\n      });\n\n      // Fire common finalize JS\n      UTIL.fire('common', 'finalize');\n    }\n  };\n\n  // Load Events\n  $(document).ready(UTIL.loadEvents);\n\n})(jQuery); // Fully reference jQuery after this point.\n"],"sourceRoot":"assets/scripts/"}